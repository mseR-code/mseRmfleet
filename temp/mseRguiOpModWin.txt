window name=mseRguiOpMod title="mseR Operating Model Control"

menu nitems=3 label="File"
  menuitem label="Load parameters" action="load" function=.subGuiOpMod
  menuitem label="Save parameters" action="save" function=.subGuiOpMod
  menuitem label="Exit"                          function=closeWin
menu nitems=2 label="View"
  menu nitems=1 label="R Code"
    menuitem label="Functions"                   function=.viewFile action=mseRopMod.r
  menuitem label="Window"                        function=.viewFile action=mseRguiOpModWin.txt
menu nitems=1 label="Help"
  menuitem label="About guiOpMod"                  function=.viewHelp action=mseRAbout.txt

# Main grid layout.
grid 3 1

  # Grid 1: The parameter super object widget.
  grid 1 2
    grid 1 1 relief="raised"
    object name=opModPars rowshow=10 function=.subGuiOpMod action=opModPars entrybg="white" width="20 30" entryfont="12" font="12" padx=10

    grid 2 1
      label text="Reference Points" font=bold
    grid 8 2 sticky=E
      entry name=ssbFmsy label="Bmsy" mode=numeric value=29.10 width=10 sticky=E edit=FALSE noeditbg="#FDB3C1"
      null

      entry name=yieldFmsy label="MSY" mode=numeric value=5.69 width=10 sticky=E edit=FALSE noeditbg="#FDB3C1"
      null

      entry name=Fmsy label="Fmsy" mode=numeric value=0.22 width=10 sticky=E edit=FALSE noeditbg="#FDB3C1"
      check name=chkFmsy action=chkFmsy function=.subGuiOpMod checked=T text=""

      entry name=F0 label="F0" mode=numeric value=0 width=10 sticky=E edit=FALSE noeditbg="#FDB3C1"
      check name=chkF0 action=chkF0 function=.subGuiOpMod checked=T text=""

      entry name=F01 label="F01" mode=numeric value=0.193 width=10 sticky=E edit=FALSE noeditbg="#FDB3C1"
      check name=chkF01 action=chkF01 function=.subGuiOpMod checked=T text=""

      entry name=F40 label="F40" mode=numeric value=0.179 width=10 sticky=E edit=FALSE noeditbg="#FDB3C1"
      check name=chkF40 action=chkF40 function=.subGuiOpMod checked=T text=""

      entry name=Fmax label="Fmax" mode=numeric value=0.569 width=10 sticky=E edit=FALSE noeditbg="#FDB3C1"
      check name=chkFmax action=chkFmax function=.subGuiOpMod checked=T text=""

      entry name=Fcra label="Fcrash" mode=numeric value=1.191 width=10 sticky=E edit=FALSE noeditbg="#FDB3C1"
      check name=chkFcra action=chkFcra function=.subGuiOpMod checked=T text=""

  # Grid 2: Plot area: options and choices.
  grid 2 1 relief="raised" pady=5

    # Grid 2.1: Plot option control.
    grid 3 1 relief="sunken" padx=10 pady=5
      grid 1 2
        label text="Layout: " font="bold 10" sticky=W

        grid 1 7 relief="sunken" pady=2
          check name=autolayout function=.subGuiView action="autolayout" checked=T text="Auto Layout"   sticky=W
          check name=overwrite  function=.subGuiView action="overwrite"  checked=T text="Overwrite"     sticky=W
          check name=plotbyrow  function=.subGuiView action="plotbyrow"  checked=F text="Plot by Row"   sticky=W
          entry name=nrows      function=.subGuiView action="nrows"      mode=numeric value="1" width=3 sticky=W
          label text="Rows"                                                                             sticky=W
          entry name=ncols      function=.subGuiView action="ncols"      mode=numeric value="1" width=3 sticky=W
          label text="Columns"

      grid 1 8
      label text="Options:" font="bold 10"
      check name=annotate function=.subGuiOpMod action="annotate" checked=T text="Annotate"
      check name=bygear   function=.subGuiOpMod action="bygear"   checked=F text="Gears"
      check name=doLegend function=.subGuiOpMod action="doLegend" checked=T text="Legend"
      check name=setXaxis function=.subGuiOpMod action="setXaxis" checked=F text="Set X-axis"
      check name=setYaxis function=.subGuiOpMod action="setYaxis" checked=F text="Set Y-axis"
      check name=saveemf  function=.subGuiOpMod action="savemf"   checked=F text="Save EMF"
      check name=savepdf  function=.subGuiOpMod action="savepdf"  checked=F text="Save PDF"
  
      matrix nrow=2 ncol=13 rowlabels="'Min.' 'Max.'" \
        collabels="'Age' 'Bio' 'Catch' 'Discard' 'F' 'Len' 'M' 'Rec' 'SSB' 'SSB/R' 'Wgt' 'Yield' 'YPR'" \
        names="minAge minBio minCat minDis minF minLen minM minRec minSSB minSSBR minWgt minYield \
               minYPR maxAge maxBio maxCat maxDis maxF maxLen maxM maxRec maxSSB maxSSBR maxWgt maxYield maxYPR" \
        action="plotOptions" values="1 0 0 0 0 0 0 0 0 0 0 0 0 100 100 100 100 2 100 2 50 100 5 10 5 0.1" \
        function=.subGuiOpMod width=6

    # Grid 2.2: Plot selection.
    grid 4 7 byrow=FALSE

      label "Custom Plots" font=12
      radio name=opModPlotType value=lifeHist  text="Life History"        function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=refPoints text="Reference Points"    function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=yieldGear text="Yield by Gear"       function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=Fvsh      text="Fmsy ~ h"            function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=yieldVsF  text="Yield ~ Trawl F"     function=.subGuiOpMod mode=character sticky=W
      null

      label "Life History" font=12
      radio name=opModPlotType value=numAtAge  text="Numbers at Age"      function=.subGuiOpMod mode=character sticky=W
      #radio name=opModPlotType value=bioAtAge text="Biomass at Age"      function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=matAtAge  text="Maturity at Age"     function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=lenAtAge  text="Length at Age"       function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=wgtAtAge  text="Weight at Age"       function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=wgtLen    text="Weight-Length"       function=.subGuiOpMod mode=character sticky=W
      null

      label "Gear Plots" font=12
      radio name=opModPlotType value=Slg       text="Selectivity (len,g)" function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=Salg      text="Selectivity (a,l,g)" function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=Plg       text="Discard (l,g)"       function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=Palg      text="Discard (a,l,g)"     function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=dg        text="Discard Mortality"   function=.subGuiOpMod mode=character sticky=W
      null

      label "Reference Points" font=12
      radio name=opModPlotType value=yprF      text="YPR ~ F"             function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=ssbRF     text="SSB/R ~ F"           function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=yieldF    text="Y~F"                 function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=ssbF      text="SSB~F"               function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=recSSB    text="Recruits~SSB"        function=.subGuiOpMod mode=character sticky=W
      radio name=opModPlotType value=yieldSSB  text="Y~SSB"               function=.subGuiOpMod mode=character sticky=W
     
  # Grid 3: Add some control buttons.
  grid 1 2

    grid 2 1 relief="raised" padx=10
      grid 1 4
        entry name=simName label="Simulation:" action="simName" font="bold 12" value="" function=.subGuiOpMod \
              mode=character sticky=W padx=1 width=25
        entry name=iSim    label="ID:"    font="bold 12" value=0 mode=numeric   sticky=W padx=1 width=3 edit=FALSE noeditbg="#FDB3C1"
        label "/"                         font="12"
        entry name=nSim    label=""       font="bold 12" value=0 mode=numeric   sticky=W padx=1 width=3 edit=FALSE noeditbg="#FDB3C1"

      grid 1 6 pady=2
        button text="Add"    function=.subGuiOpMod action=addTrial  padx=2 width=7
        button text="Remove" function=.subGuiOpMod action=remTrial  padx=2 width=7
        button text="<"      function=.subGuiOpMod action=prevTrial padx=2 width=5 bg="gray85"
        button text=">"      function=.subGuiOpMod action=nextTrial padx=2 width=5 bg="gray85"
        button text="Export" function=.subGuiOpMod action=export    padx=2 width=7 
        button text="Import" function=.subGuiOpMod action=import    padx=2 width=7

    grid 2 1
      button text="Tables" action="tables" function=.subGuiOpMod width=10 padx=2 pady=2
      button text="Exit"   action="exit"   function=.subGuiOpMod width=10 padx=2 pady=2

  